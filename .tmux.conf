# Enable RGB colour if running in xterm(1)
#set-option -sa terminal-overrides ",xterm*:Tc"

# remap prefix to Esc - space (Works well when Escape is mapped to Caps-lock)
set -g prefix M-space

# bind 'Esc - space Esc - space' to type 'Esc - space'
bind M-space send-prefix
unbind C-b

bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

bind -r H resize-pane -L 
bind -r J resize-pane -D 
bind -r K resize-pane -U 
bind -r L resize-pane -R 

bind '"' split-window -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"
bind c new-window -c "#{pane_current_path}"

unbind r
bind r source-file ~/.tmux.conf

#set -g status-keys vi
#setw -g mode-keys vi

# Copy paste
# set-option -g mouse on
setw -g mode-keys vi
set-option -s set-clipboard off
bind P paste-buffer
bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi C-v send-keys -X rectangle-toggle
unbind -T copy-mode-vi y
bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'pbcopy'
# bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel 'pbcopy'
# 
# bind-key -T copy-mode-vi DoubleClick1Pane \
#     select-pane \; \
#     send-keys -X select-word \; \
#     run-shell "sleep .5s" \; \
#     send-keys -X copy-pipe-and-cancel 'pbcopy'
# 
# # Triple LMB Select & Copy (Line)
# bind-key -T copy-mode-vi TripleClick1Pane \
#     select-pane \; \
#     send-keys -X select-line \; \
#     run-shell "sleep .5s" \; \
#     send-keys -X copy-pipe-and-cancel 'pbcopy'

# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1

set -g mouse on 
bind-key -T copy-mode-vi WheelUpPane send -N1 -X scroll-up
bind-key -T copy-mode-vi WheelDownPane send -N1 -X scroll-down

set-option -g renumber-windows on

